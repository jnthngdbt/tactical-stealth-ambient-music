import{V as c,C as m,I as l}from"./three.module-B8BHS4ps.js";const n=new l(0,0,0,"YXZ"),i=new c,a={type:"change"},h={type:"lock"},d={type:"unlock"},r=Math.PI/2;class v extends m{constructor(o,e=null){super(o,e),this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=u.bind(this),this._onPointerlockChange=E.bind(this),this._onPointerlockError=k.bind(this),this.domElement!==null&&this.connect()}connect(){this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getObject(){return console.warn("THREE.PointerLockControls: getObject() has been deprecated. Use controls.object instead."),this.object}getDirection(o){return o.set(0,0,-1).applyQuaternion(this.object.quaternion)}moveForward(o){if(this.enabled===!1)return;const e=this.object;i.setFromMatrixColumn(e.matrix,0),i.crossVectors(e.up,i),e.position.addScaledVector(i,o)}moveRight(o){if(this.enabled===!1)return;const e=this.object;i.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(i,o)}lock(){this.domElement.requestPointerLock()}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function u(t){if(this.enabled===!1||this.isLocked===!1)return;const o=t.movementX||t.mozMovementX||t.webkitMovementX||0,e=t.movementY||t.mozMovementY||t.webkitMovementY||0,s=this.object;n.setFromQuaternion(s.quaternion),n.y-=o*.002*this.pointerSpeed,n.x-=e*.002*this.pointerSpeed,n.x=Math.max(r-this.maxPolarAngle,Math.min(r-this.minPolarAngle,n.x)),s.quaternion.setFromEuler(n),this.dispatchEvent(a)}function E(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(h),this.isLocked=!0):(this.dispatchEvent(d),this.isLocked=!1)}function k(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}export{v as P};
